if(function(e){"use strict";var t,o=[],n=e.document,r=e.MutationObserver||e.WebKitMutationObserver,a=function(e,a){o.push({selector:e,fn:a}),t||(t=new r(i),t.observe(n.documentElement,{childList:!0,subtree:!0})),i()},i=function(){for(var e,t,r=0,a=o.length;r<a;r++){e=o[r],t=n.querySelectorAll(e.selector);for(var i,d=0,s=t.length;d<s;d++)i=t[d],i.ready||(i.ready=!0,e.fn.call(i,i))}},d=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var o=new RegExp("[\\?&]"+t+"=([^&#]*)"),n=o.exec(e.search);return null===n?null:decodeURIComponent(n[1].replace(/\+/g," "))},s=function(e,t){var o=d(e,"broadstreet_preview_zone"),n=d(e,"broadstreet_preview_zone_alias"),r=d(e,"broadstreet_preview_ad");return o&&r?{zone_id:o,zone_alias:n,ad_id:r}:null},c=function(e){for(var t="",o=16,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,a=0;a<o;a++)t+=n.charAt(Math.floor(Math.random()*r));return e+t},l=function(e){var t=e.pathname,o=t.indexOf(".");return e.pathname.slice(1,o!==-1?o:void 0).split("/")};e.broadstreet=window.broadstreetLoaded?e.broadstreet:function(){var t=(new Date).getTime(),o={},n="",r=[],i=(document.head,document.body,!1),d={},u=!1,h=null,f=!1,m={altZoneWhitelist:[],altZoneShortlist:[],autoAttach:[],autoAttachAndWatch:[],userId:localStorage.bsid||(localStorage.bsid=c("random-")),callback:void 0,deviceOverride:null,domain:window.broadstreetDomain||"ad.broadstreetads.com",hostname:e.hostname,hardForce:!1,keywords:window.broadstreetKeywords||[],location:e.location,networkId:null,noRotate:!1,onlyVisible:!1,preview:!1,protocol:location.protocol,passTargetsToDestination:!1,selector:"broadstreet-zone",containerCss:"display: block;",seed:null,softKeywords:!0,targets:window.broadstreetTargets||{},ts:(new Date).getTime(),uriKeywords:!1,useAltZone:function(){return!1},useZoneAliases:!1,useCachebuster:!0,zoneOptions:{}},w=function(){var e=m.selector+" { "+m.containerCss+" }"+m.selector+"-container-alt { "+m.containerCss+" }"+m.selector+"-container { "+m.containerCss+" }",t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e)),t.appendChild(o)},b=function(e){return"function"==typeof e.join?e.join(","):e},p=function(e){var t,o,n,r,a,i;if(o=[],a=/%20/g,n=function(e,t){t="function"==typeof t?t():t?t:"",o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)},e instanceof Array)for(r in e)n(r,e[r]);else for(t in e)y(t,e[t],n);return i=o.join("&").replace(a,"+")},g=function(e){var t=e.getBoundingClientRect();return!(t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth))},v=function(e){e=e||{};for(var t={},o=Object.keys(e),n=0;n<o.length;n++)t["bst_"+o[n]]=e[o[n]];return t},y=function(e,t,o){var n,r,a,i;if(i=/\[\]$/,t instanceof Array)for(r=0,a=t.length;r<a;r++)i.test(e)?o(e,t[r]):y(e+"["+("object"==typeof t[r]?r:"")+"]",t[r],o);else if("object"==typeof t)for(n in t)y(e+"["+n+"]",t[n],o);else o(e,t)},A=function(){if(!i){var e=r.shift();if(e){var t=!1,o=document.createElement("script");o.type="text/javascript",o.async=!0,h&&(e.id==h.zone_alias||e.id.indexOf(h.zone_id)>=0)?(o.src=E(h.ad_id,e),h=null):o.src=T(e.id,e.options)+"&target="+e.el.id,o.onload=o.onreadystatechange=o.onerror=function(){t||o.readyState&&"loaded"!==o.readyState&&"complete"!==o.readyState||(t=!0,i=!1,A(),o.onload=o.onreadystatechange=o.onerror=null,document.head&&o.parentNode&&document.head.removeChild(o))},i=!0,document.head.insertBefore(o,document.head.lastChild)}}},k=function(e,t){if("true"!=e.getAttribute("data-autoattached")){for(var o=t.position||"afterend",n=document.createElement(m.selector),r=Object.keys(t),a=0;a<r.length;a++)n.setAttribute(r[a],t[r[a]]);"replace"==o?e.innerHTML=n.outerHTML:e.insertAdjacentHTML(o,n.outerHTML),e.setAttribute("data-autoattached","true")}},O=function(e,t){e=e||{},t=t||{};for(var o={},n=Object.keys(e).concat(Object.keys(t)),r=0;r<n.length;r++)t.hasOwnProperty(n[r])?o[n[r]+""]=t[n[r]]:o[n[r]+""]=e[n[r]];return o};o.autoAttach=function(e){var t,o,n;t=Object.keys(e||m.autoAttach);for(var r=0;r<t.length;r++){try{o=document.querySelectorAll(t[r])}catch(a){console.debug("No elements found for selector",t[r]),o=[]}if(o.length){n=m.autoAttach[t[r]],Array.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++)for(var d=0;d<o.length;d++)k(o[d],n[i])}}},o.autoAttachAndWatch=function(e){for(var t=Object.keys(e||m.autoAttachAndWatch),o=0;o<t.length;o++){var n=m.autoAttachAndWatch[t[o]];a(t[o],function(e){return function(t){Array.isArray(e)||(e=[e]);for(var o=0;o<e.length;o++)k(t,e[o])}}(n))}};var S=function(e,t,o){var n;return function(){var r=this,a=arguments,i=function(){n=null,o||e.apply(r,a)},d=o&&!n;clearTimeout(n),n=setTimeout(i,t),d&&e.apply(r,a)}},C=o.pageReady=function(e){return"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?(e&&e(),!0):(e&&document.addEventListener("DOMContentLoaded",e),!1)},L=function(){if(w(),h=s(m.location),m.keywords&&0!=m.keywords.length||(m.keywords=window.broadstreetKeywords||[]),m.callback&&"function"==typeof m.callback){var t=c("street_callback_",10);e[t]=m.callback,m.callback=t}if(m.useAltZone%1===0){var n=m.useAltZone;m.useAltZone=function(){return window.innerWidth<=n?(u=!0,!0):(u=!1,!1)},window.addEventListener("resize",S(function(){(u&&!m.useAltZone()||!u&&m.useAltZone())&&o.refreshAll()}),500,!1)}if(m.networkId&&o.loadNetworkJS(m.networkId),m.altZoneShortlist.length)for(var r=0;r<m.altZoneShortlist.length;r++)m.altZoneShortlist[r]=m.altZoneShortlist[r].toString();if(m.altZoneWhitelist.length)for(var a=0;a<m.altZoneWhitelist.length;a++)m.altZoneWhitelist[a]=m.altZoneWhitelist[a].toString();Object.keys(m.autoAttach).length&&(C()?o.autoAttach():document.addEventListener("DOMContentLoaded",function(){o.autoAttach()})),Object.keys(m.autoAttachAndWatch).length&&(C()?o.autoAttachAndWatch():document.addEventListener("DOMContentLoaded",function(){o.autoAttachAndWatch()}))},Z=function(e){setInterval(function(){g(e)||"true"!=e.getAttribute("hidden")||(e.removeAttribute("hidden"),W(e))},500)},W=function(e,t){t=t||{};var o,n,a=e.getAttribute("zone-id")||e.getAttribute("alt-zone-id")||t.zoneId||t.altZoneId,i=e.getAttribute("alt-zone-id"),s=e.getAttribute("no-alt");if(e.getAttribute("zone-alias")&&m.useZoneAliases&&(a=e.getAttribute("zone-alias")),!a)return void console.warn("No zone-id set for zone tag, skipping ...");t=t||{};var l;if(e.parentNode.tagName.match(/container/i)?l=e.parentNode:(l=document.createElement(m.selector+"-container"+(i?"-alt":"")),e.parentNode.replaceChild(l,e),l.appendChild(e)),s&&m.altZoneWhitelist.push(a),e.removeAttribute("style"),i){if(d[a]||(d[a]={}),d[a].altContainer=l,!m.useAltZone())return}else if(d[a]||(d[a]={}),d[a].container=l,d[a].el=e,m.useAltZone())if(m.altZoneShortlist.length){if(m.altZoneShortlist.indexOf(a)>=0)return}else if(m.altZoneWhitelist.indexOf(a)<0)return;if(n=JSON.parse(JSON.stringify(m)),n=O(n,n.zoneOptions[a]),n=O(n,t),(n.onlyVisible||"true"==e.getAttribute("load-when-visible"))&&g(e))return e.setAttribute("hidden","true"),void Z(e);if(o=e.getAttribute("active-style"),o&&e.setAttribute("style",o),!e.getAttribute("tracked")&&(e.setAttribute("tracked","true"),o=e.getAttribute("autoload"),!o&&n.autoload!==!1||!(n.autoload===!1||o&&"false"==o.toLowerCase()))){if(o=e.getAttribute("keywords")){n.keywords=n.keywords.concat(o.split(","));for(var u=0;u<n.keywords.length;u++)n.keywords[u]=n.keywords[u].trim().toLowerCase()}o=e.getAttribute("soft-keywords"),o&&(o&&"true"==o.toLowerCase()&&(n.softKeywords=!0),o&&"false"==o.toLowerCase()&&(n.softKeywords=!1)),o=e.getAttribute("hard-force"),o&&o&&"true"==o.toLowerCase()&&(n.hardForce=!0),o=e.getAttribute("network-id"),o&&(n.networkId=o),o=e.getAttribute("no-rotate"),o&&o&&"true"==o.toLowerCase()&&(n.noRotate=!0),o=e.getAttribute("preview"),o&&o&&"true"==o.toLowerCase()&&(n.preview=!0),o=e.getAttribute("callback"),o&&(n.callback=o),o=e.getAttribute("count"),o&&(n.count=o),e.id||(e.id=c("street-")),d[a].opts=n,r.push({id:a,el:e,options:n}),A()}};o.loadNetworkJS=function(e,t){if(!f){t=t||{},!t.domain,o.setOptions(t||{}),m.networkId=e;var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=m.protocol+"//"+m.domain+"/ndisplay/"+e+".js",document.head.insertBefore(n,document.head.lastChild),f=!0}};var E=function(e,t){return t.el.innerHTML='<div street-address="'+e+'"></div>',"//"+m.domain+"/display/"+e+".js?sa=1&init=0"},x=function(){var e=window.navigator.userAgent,t=window.navigator.platform,o=["Macintosh","MacIntel","MacPPC","Mac68K"],n=["Win32","Win64","Windows","WinCE"],r=["iPhone","iPad","iPod"],a={is_mobile:0,os:null,browser:null};return o.indexOf(t)!==-1?a.os="Mac OS":r.indexOf(t)!==-1?(a.os="iOS",a.is_mobile=1):n.indexOf(t)!==-1?a.os="Windows":/Android/.test(e)?(a.os="Android",a.is_mobile=1):/Linux/.test(t)&&(a.os="Linux"),e.match(/Edg/)?a.browser="edge":e.match(/OPR/)?a.browser="opera":e.match(/Chrome/)?a.browser="chrome":e.match(/Firefox/)?a.browser="firefox":e.match(/^(Chrome)|Safari/)?a.browser="safari":e.match(/\.NET/)&&(a.browser="ie"),a},M=function(){var e={};if(location.hostname&&(e.domain=location.hostname),location.pathname&&(e.path=location.pathname),location.href&&(e.url=location.href),window.navigator&&window.navigator.userAgent){var t=x();e.os=t.os,e.browser=t.browser,e.is_mobile=t.is_mobile}return e},T=function(e,o){var r;r=o.useZoneAliases&&o.networkId?m.protocol+"//"+o.domain+"/zndisplay/"+o.networkId+"/"+e+".js":m.protocol+"//"+o.domain+"/zdisplay/"+e+".js",o.uriKeywords&&(o.keywords=o.keywords||[],o.keywords=o.keywords.concat(l(o.location)));var a=v(o.targets);if(r+="?b="+n,o.keywords&&(a.kw=b(o.keywords)),a.kw||delete a.kw,o.count&&(a.count=o.count),o.deviceOverride&&(a.device=o.deviceOverride),o.softKeywords&&(a.skw="true"),o.hardForce&&(a.hf="true"),o.noRotate&&(a.nr="true"),"undefined"!=typeof o.place&&(a.place=o.place),o.amp&&(a.amp="true"),o.adOverride&&(a.ao=o.adOverride),o.campaignOverride&&(a.co=o.campaignOverride),o.callback&&(a.cb=o.callback),o.hostname&&(a.hostname=o.hostname),o.seed&&(a.seed=o.seed),o.preview&&(a.preview="true"),o.useCachebuster&&(a.ts=t),o.passTargetsToDestination&&(a.pt="true"),o.userId&&(a.uid=o.userId),location.hostname&&(a.domain=location.hostname),location.pathname&&(a.path=location.pathname),location.href&&(a.url=location.href),window.navigator&&window.navigator.userAgent){var i=x();a.os=i.os,a.browser=i.browser,a.is_mobile=i.is_mobile}return r+="&"+p(a)};return o.addCSS=function(e){var t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e)),t.appendChild(o)},o.clearCampaignLog=function(){n=""},o.loadAMPZone=function(e,t){t=t||{},t.ampGlobal&&t.ampGlobal.context&&t.ampGlobal.context.location&&(t.location=m.location=t.ampGlobal.context.location,t.hostname=t.location.hostname,console.debug("Broadstreet AMP Render Start, no resize"),t.ampGlobal.context.renderStart(),t.seed=t.ampGlobal.context.pageViewId),L(),o.loadZone(e,t)},o.loadZone=function(e,t){t=t||{},t.autoload=!0,e.tagName||(e=document.querySelector(e)),e.removeAttribute("autoload"),e.removeAttribute("tracked"),e.innerHTML="",W(e,t)},o.watchFor=a,o.refreshAll=function(){var e=document.querySelectorAll(m.selector);o.clearCampaignLog();for(var t=0;t<e.length;t++)o.loadZone(e[t])},o.register=function(e){n+=n?","+e:e},o.setTargeting=function(e,t){"object"==typeof e?m.targets=O(m.targets,e):m.targets[e]=t},o.setOptions=function(e){m=O(m,e)},o.trackHover=function(e,t){e.onmouseover=void 0;var o=M()||{};localStorage.bsid&&(o.uid=localStorage.bsid),t+="?"+p(o);var n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.open("GET",t,!0),n.send()},o.watch=function(e){window.broadstreetLoaded?console.warn("broadstreet.watch() has been called multiple times. Ignoring calls beyond the first."):(window.broadstreetLoaded=!0,o.setOptions(e||{}),L(),a(m.selector,W))},o.deprecated=function(e){return function(){console.warn("broadstreet."+e,"is no longer a supported method call. Please see: http://information.broadstreetads.com/using-broadstreets-v2-ad-tags/")}},o.setDefaultAsync=o.deprecated("setDefaultAsync"),o.setWhitelabel=o.deprecated("setWhitelabel"),o.zone=function(e){"loading"==document.readyState&&document.write("<"+m.selector+' zone-id="'+e+'"></'+m.selector+">"),o.deprecated("zone")()},window.broadstreet&&window.broadstreet.run&&(o.run=window.broadstreet.run),o}()}(this),window.broadstreet.run&&window.broadstreet.run.length)for(var i=0;i<window.broadstreet.run.length;i++)window.broadstreet.run[i]();if(window.broadstreet.run={push:function(e){e()}},window.addEventListener("message",function(e){if("bsa_visibility_check"===e.data.action){var t=e.source.frameElement,o=t.getBoundingClientRect();o.top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&o.right<=(window.innerWidth||document.documentElement.clientWidth)?t.contentWindow.postMessage("visible","*"):t.contentWindow.postMessage("not visible","*")}},!1),document.dispatchEvent)try{document.dispatchEvent(new Event("broadstreetLoaded"))}catch(e){}